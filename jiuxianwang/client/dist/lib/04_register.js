"use strict";$(function(){function i(i){var s=$.trim($(this).val());i.test(s)?($(this).siblings(".errorFontTip").css("display","none"),$(this).siblings(".icon-regFalse").css("display","none"),$(this).parents(".firmBox").removeClass("borderReds")):($(this).siblings(".errorFontTip").css("display","block"),$(this).siblings(".icon-regFalse").css("display","block"),$(this).parents(".firmBox").addClass("borderReds"))}$("#firmAccount").val("ouguankaile"),$("#firmEmail").val("1475419108@qq.com"),$("#firmPassword").val("qwe123456789"),$("#refirmPassword").val("qwe123456789"),$("#firmUserName").val("哈哈哈"),$("#firmUserPhone").val("18502077921"),$("#firmUserTel").val("0431-86873363"),$("#firmCompanyName").val("043186873363"),$("#firmCompanyName").val("千千公司"),$("#firmDetailAdd").val("广州市天河区"),$("#firmCodes").val("8888"),$("#firmAccount").blur(function(){i.bind(this)(/[\u4e00-\u9fa5a-zA-Z0-9\-]{4,20}/)}),$("#firmEmail").blur(function(){i.bind(this)(/\w+@\w+.com/)}),$("#firmPassword").blur(function(){i.bind(this)(/^[a-zA-Z0-9]{8,20}$/)}),$("#refirmPassword").blur(function(){$.trim($(this).val())==$.trim($("#firmPassword").val())?($(this).siblings(".errorFontTip").css("display","none"),$(this).siblings(".icon-regFalse").css("display","none"),$(this).parents(".firmBox").removeClass("borderReds")):($(this).siblings(".errorFontTip").css("display","block"),$(this).parents(".firmBox").addClass("borderReds"),$(this).siblings(".icon-regFalse").css("display","block"))}),$("#firmUserName").blur(function(){i.bind(this)(/^[\u4e00-\u9fa5]{2,20}$/)}),$("#firmUserPhone").blur(function(){i.bind(this)(/^1[3-9]\d{9}$/)}),$("#firmUserTel").blur(function(){i.bind(this)(/^(\d{3,4}-)?\d{6,8}(-\d{3,6})?$/)}),$("#firmCompanyName").blur(function(){i.bind(this)(/^[\u4e00-\u9fa5]{2,30}$/)}),$("#firmDetailAdd").blur(function(){i.bind(this)(/^[\u4e00-\u9fa5a-zA-Z0-9\-]{4,20}$/)}),$("#firmCodes").blur(function(){i.bind(this)(/^\d{4}$/)}),$("#distpicker").distpicker({autoSelect:!1});var s=void 0;(new Captcha).draw(document.querySelector("#_captchaImage"),function(i){s=i,console.log(i,"验证码1")}),$("#firmCodes").blur(function(){$.trim($(this).val())==s?($(this).siblings(".errorFontTip").css("display","none"),$(this).parents(".firmBox").removeClass("borderReds")):($(this).siblings(".errorFontTip").css("display","block"),$(this).parents(".firmBox").addClass("borderReds"),$(this).siblings(".icon-regFalse").css("display","block"))}),$(".nowSubmit").click(function(){if($("#firmAccount,#firmEmail,#firmPassword,#firmUserName,#firmUserPhone,#firmUserTel,#firmCompanyName,#firmDetailAdd,#firmCodes").trigger("blur"),$(".regAgrInput").is(":checked")){if(!$(".firmBox").hasClass("borderReds"))if(""!=$(".province").val()||""!=$(".city").val()){var i={account:$.trim($("#firmAccount").val()),email:$.trim($("#firmEmail").val()),password:md5($.trim($("#firmPassword").val())).substr(0,10),username:$.trim($("#firmUserName").val()),phone:$.trim($("#firmUserPhone").val()),tel:$.trim($("#firmUserTel").val()),companyName:$.trim($("#firmCompanyName").val()),distpicker:$.trim($(".province").val())+$.trim($(".city").val())+$.trim($(".slast").val()),detailAdd:$.trim($("#firmDetailAdd").val())};console.log(i),$.ajax({type:"get",url:"../../../server/register.php",data:i,dataType:"json",success:function(i){console.log(i),"success"==i.status?(alert(i.msg),window.location.href="./05_login.html"):alert(i.msg)}})}else alert("请选择公司所在地")}else alert("请阅读并同意用户协议！")})});